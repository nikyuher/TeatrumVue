import{d as x,r as u,g as $,o as i,c as v,b as e,w as E,v as C,j as T,k as w,i as y,t as g,l as V,m as P,p as D,f as O,_ as U,z as J,e as d,F,B as G,y as W,s as ee,C as te,D as oe,I as ae,E as se,G as ne,H as le,J as re,K as ie,L as ue,M as ce,N as de,O as ve,P as _e,V as me,Q as pe,R as Y,S as he,T as fe,n as be,U as ge}from"./index-h0uDIzYb.js";const j=t=>(D("data-v-a024cf86"),t=t(),O(),t),ye={class:"contenedor"},$e=j(()=>e("h2",null,"Crear Usuario",-1)),Ie={class:"form-group"},we=j(()=>e("label",{for:"nombre"},"Nombre",-1)),ke={class:"form-group"},Ee=j(()=>e("label",{for:"email"},"Correo",-1)),Ce={class:"form-group"},xe=j(()=>e("label",{for:"password"},"Contraseña",-1)),Ue=j(()=>e("div",{class:"form-group"},[e("input",{type:"submit",value:"Enviar",class:"btn-submit"})],-1)),Se=x({__name:"AddUser",setup(t){const n=u(""),s=u(""),a=u(""),o=u(""),r=c=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c),l=c=>/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/.test(c),p=c=>c.length>=4,_=async()=>{try{if(!p(n.value)){o.value="El nombre debe tener al menos 4 caracteres",setTimeout(()=>{o.value=""},2e3);return}if(!r(s.value)){o.value="Por favor ingrese un correo electrónico válido",setTimeout(()=>{o.value=""},2e3);return}if(!l(a.value)){o.value="La contraseña debe tener al menos 8 caracteres, una mayúscula, una minúscula y un número",setTimeout(()=>{o.value=""},3e3);return}const c={nombre:n.value,correoElectronico:s.value,contraseña:a.value};if(!(await fetch("http://localhost:8001/Usuario",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)})).ok)throw o.value="Fallo al crear Usuario.",new Error("Fallo al Ingresar Usuario.");n.value="",s.value="",a.value="",o.value="Creado Correctamente.",setTimeout(()=>{o.value=""},2e3)}catch(c){console.error(c),o.value="Ha ocurrido un Error al Crear .",setTimeout(()=>{o.value=""},2e3)}};return(c,f)=>{const h=$("v-alert");return i(),v("div",ye,[$e,e("form",{onSubmit:P(_,["prevent"]),class:"form"},[e("div",Ie,[we,E(e("input",{type:"text",id:"nombre","onUpdate:modelValue":f[0]||(f[0]=m=>n.value=m),required:""},null,512),[[C,n.value]])]),e("div",ke,[Ee,E(e("input",{type:"email",id:"email","onUpdate:modelValue":f[1]||(f[1]=m=>s.value=m),required:""},null,512),[[C,s.value]])]),e("div",Ce,[xe,E(e("input",{type:"password",id:"password","onUpdate:modelValue":f[2]||(f[2]=m=>a.value=m),required:""},null,512),[[C,a.value]])]),Ue,o.value?(i(),T(h,{key:0,value:!0,type:o.value.includes("Creado")?"success":"error"},{default:w(()=>[y(g(o.value),1)]),_:1},8,["type"])):V("",!0)],32)])}}}),Ae=U(Se,[["__scopeId","data-v-a024cf86"]]),K=t=>(D("data-v-c5e6c3b3"),t=t(),O(),t),Te=K(()=>e("h2",null,"Eliminar Usuario",-1)),Ve={class:"form-group"},De=K(()=>e("label",{for:"userId"},"ID Usuario",-1)),Oe=K(()=>e("div",{class:"form-group"},[e("input",{type:"submit",value:"Enviar",class:"btn-submit"})],-1)),Be=x({__name:"DeleteUser",setup(t){const n=u(0),s=u(""),a=async()=>{try{if(!n.value)throw new Error("Por favor ingrese un ID de usuario válido.");if(!(await fetch(`http://localhost:8001/Usuario/${n.value}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok)throw new Error("Fallo al eliminar Usuario.");s.value="Eliminado Correctamente.",setTimeout(()=>{s.value=""},2e3)}catch(o){console.error(o),s.value="No se a podido Eliminar.",setTimeout(()=>{s.value=""},2e3)}};return(o,r)=>{const l=$("v-alert");return i(),v("div",null,[Te,e("form",{onSubmit:P(a,["prevent"]),class:"form"},[e("div",Ve,[De,E(e("input",{type:"number",id:"userId","onUpdate:modelValue":r[0]||(r[0]=p=>n.value=p),required:""},null,512),[[C,n.value]])]),Oe,s.value?(i(),T(l,{key:0,value:!0,type:s.value.includes("Eliminado")?"success":"error"},{default:w(()=>[y(g(s.value),1)]),_:1},8,["type"])):V("",!0)],32)])}}}),Pe=U(Be,[["__scopeId","data-v-c5e6c3b3"]]),B=t=>(D("data-v-786abce7"),t=t(),O(),t),Fe=B(()=>e("h2",null,"Lista de Usuarios",-1)),Le=B(()=>e("strong",null,"ID:",-1)),qe=B(()=>e("br",null,null,-1)),ze=B(()=>e("strong",null,"Nombre:",-1)),Ne=B(()=>e("br",null,null,-1)),Me=B(()=>e("strong",null,"Correo:",-1)),je=B(()=>e("br",null,null,-1)),Re=B(()=>e("strong",null,"Contraseña:",-1)),He=B(()=>e("br",null,null,-1)),Je=B(()=>e("strong",null,"Rol:",-1)),Ge=B(()=>e("br",null,null,-1)),We=x({__name:"ListUser",setup(t){const n=u([]),s=u("");return J(async()=>{try{const a=await fetch("http://localhost:8001/Usuario");if(!a.ok)throw new Error("Fallo al obtener la lista de usuarios.");const o=await a.json();n.value=o}catch(a){console.error(a),s.value="Ha ocurrido un error al obtener la lista de usuarios."}}),(a,o)=>{const r=$("v-card-text"),l=$("v-card"),p=$("v-alert"),_=$("v-container");return i(),v(F,null,[Fe,d(_,{class:"contenedor",style:{height:"500px","overflow-y":"auto"}},{default:w(()=>[(i(!0),v(F,null,G(n.value,c=>(i(),T(l,{key:c.usuarioId,class:"usuario-card"},{default:w(()=>[d(r,null,{default:w(()=>[Le,y(" "+g(c.usuarioId)+" ",1),qe,ze,y(" "+g(c.nombre)+" ",1),Ne,Me,y(" "+g(c.correoElectronico)+" ",1),je,Re,y(" "+g(c.contraseña)+" ",1),He,Je,y(" "+g(c.rol?"Administrador":"Usuario Normal")+" ",1),Ge]),_:2},1024)]),_:2},1024))),128)),s.value?(i(),T(p,{key:0,value:!0,type:"error",dismissible:""},{default:w(()=>[y(g(s.value),1)]),_:1})):V("",!0)]),_:1})],64)}}}),Ke=U(We,[["__scopeId","data-v-786abce7"]]),Qe={class:"wrapper"},Ze={key:0},Xe={key:1},Ye={key:2},et=x({__name:"AdminUser",setup(t){const n=u("add"),s=a=>{n.value=a};return(a,o)=>(i(),v(F,null,[e("nav",null,[e("ul",null,[e("li",{onClick:o[0]||(o[0]=r=>s("add"))},"Agregar Usuario"),e("li",{onClick:o[1]||(o[1]=r=>s("delete"))},"Eliminar Usuario"),e("li",{onClick:o[2]||(o[2]=r=>s("list"))},"Ver Usuarios")])]),e("div",Qe,[n.value==="add"?(i(),v("div",Ze,[d(Ae)])):n.value==="list"?(i(),v("div",Xe,[d(Ke)])):(i(),v("div",Ye,[d(Pe)]))])],64))}}),tt=U(et,[["__scopeId","data-v-96d199c7"]]),q=t=>(D("data-v-fe1bec31"),t=t(),O(),t),ot=q(()=>e("h2",null,"Crear Obra",-1)),at=q(()=>e("label",{for:"imagen"},"Imagen",-1)),st={key:0},nt=["src"],lt=q(()=>e("label",{for:"genero"},"Género",-1)),rt=q(()=>e("label",{for:"titulo"},"Título",-1)),it=q(()=>e("label",null,"Descripción",-1)),ut=q(()=>e("label",{for:"precio"},"Precio",-1)),ct=["disabled"],dt=x({__name:"AddObra",setup(t){const n=u(null),s=u(""),a=u(""),o=u(""),r=u(0),l=u(""),p=u(null),_=["comedia","terror","drama","musical","tragedia"],c=async()=>{try{let k={genero:s.value,título:a.value,descripción:o.value,precioEntrada:r.value,imagen:null};if(n.value){const S=await h(n.value);k={...k,imagen:S}}if(!(await fetch("http://localhost:8001/Obra",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)})).ok)throw new Error("Fallo al crear la obra.");n.value=null,s.value="",a.value="",o.value="",r.value=0,l.value="Creado Correctamente.",setTimeout(()=>{l.value=""},2e3)}catch(k){console.error(k),l.value="Ha ocurrido un Error al Crear .",setTimeout(()=>{l.value=""},2e3)}},f=k=>{var A;const S=(A=k.target.files)==null?void 0:A[0];if(S){n.value=S;const I=new FileReader;I.onload=()=>{p.value=I.result},I.readAsDataURL(S)}},h=k=>new Promise((b,S)=>{const A=new FileReader;A.readAsDataURL(k),A.onload=()=>{const I=A.result.split(",")[1];b(I)},A.onerror=I=>S(I)}),m=W(()=>o.value.length),M=()=>{m.value>=250&&(o.value=o.value.substring(0,250))};return(k,b)=>{const S=$("v-select"),A=$("v-alert");return i(),v("div",null,[ot,e("form",{onSubmit:P(c,["prevent"])},[at,e("input",{type:"file",id:"imagen",accept:"image/*",onChange:f,required:""},null,32),p.value?(i(),v("div",st,[e("img",{src:p.value,alt:"Imagen seleccionada",style:{"max-width":"100%",height:"200px","margin-bottom":"10px"}},null,8,nt)])):V("",!0),lt,d(S,{modelValue:s.value,"onUpdate:modelValue":b[0]||(b[0]=I=>s.value=I),items:_,density:"compact",label:"generos",required:""},null,8,["modelValue"]),rt,E(e("input",{type:"text",id:"titulo","onUpdate:modelValue":b[1]||(b[1]=I=>a.value=I),required:""},null,512),[[C,a.value]]),it,E(e("input",{type:"text",id:"descripcion","onUpdate:modelValue":b[2]||(b[2]=I=>o.value=I),maxlength:250,onInput:M,required:""},null,544),[[C,o.value]]),e("label",{class:ee({"text-red":m.value<100}),for:"descripcion"}," Descripción (Mínimo 100 caracteres): "+g(m.value)+"/250 ",3),ut,E(e("input",{type:"number",id:"precio","onUpdate:modelValue":b[3]||(b[3]=I=>r.value=I),required:""},null,512),[[C,r.value]]),e("input",{type:"submit",value:"Enviar",disabled:m.value<100},null,8,ct),l.value?(i(),T(A,{key:1,value:!0,type:l.value.includes("Creado")?"success":"error"},{default:w(()=>[y(g(l.value),1)]),_:1},8,["type"])):V("",!0)],32)])}}}),vt=U(dt,[["__scopeId","data-v-fe1bec31"]]),Q=t=>(D("data-v-4fd92e79"),t=t(),O(),t),_t=Q(()=>e("h2",null,"Eliminar Obra",-1)),mt={class:"form-group"},pt=Q(()=>e("label",{for:"obraId"},"ID Obra",-1)),ht=Q(()=>e("div",{class:"form-group"},[e("input",{type:"submit",value:"Enviar",class:"btn-submit"})],-1)),ft=x({__name:"DeleteObra",setup(t){const n=u(0),s=u(""),a=async()=>{try{if(!n.value)throw new Error("Por favor ingrese un ID de obra válido.");if(!(await fetch(`http://localhost:8001/Obra/${n.value}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok)throw new Error("Fallo al eliminar la obra.");s.value="Eliminada Correctamente.",setTimeout(()=>{s.value=""},2e3)}catch(o){console.error(o),s.value="No se a podido Eliminar.",setTimeout(()=>{s.value=""},2e3)}};return(o,r)=>{const l=$("v-alert");return i(),v("div",null,[_t,e("form",{onSubmit:P(a,["prevent"]),class:"form"},[e("div",mt,[pt,E(e("input",{type:"number",id:"obraId","onUpdate:modelValue":r[0]||(r[0]=p=>n.value=p),required:""},null,512),[[C,n.value]])]),ht,s.value?(i(),T(l,{key:0,value:!0,type:s.value.includes("Eliminado")?"success":"error"},{default:w(()=>[y(g(s.value),1)]),_:1},8,["type"])):V("",!0)],32)])}}}),bt=U(ft,[["__scopeId","data-v-4fd92e79"]]),z=t=>(D("data-v-2125da21"),t=t(),O(),t),gt={class:"contenedor"},yt=z(()=>e("h2",null,"Actualizar Informacion",-1)),$t={class:"form-group"},It=z(()=>e("label",{for:"obraId"},"ID Obra",-1)),wt={class:"form-group"},kt=z(()=>e("label",{for:"genero"},"Género",-1)),Et={class:"form-group"},Ct=z(()=>e("label",{for:"titulo"},"Título",-1)),xt={class:"form-group"},Ut=z(()=>e("label",null,"Descripción",-1)),St={class:"form-group"},At=z(()=>e("label",{for:"precioEntrada"},"Precio de Entrada",-1)),Tt={class:"form-group"},Vt=["disabled"],Dt=x({__name:"PutInfoObra",setup(t){const n=u(0),s=u(""),a=u(""),o=u(""),r=u(0),l=u(""),p=["comedia","terror","drama","musical","tragedia"],_=async()=>{try{const h={obraId:n.value,genero:s.value,título:a.value,descripción:o.value,precioEntrada:r.value};if(!(await fetch(`http://localhost:8001/Obra/info/${n.value}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)})).ok)throw new Error("Fallo al actualizar la obra.");s.value="",a.value="",o.value="",r.value=0,l.value="Actualizado correctamente.",setTimeout(()=>{l.value=""},2e3)}catch(h){console.error(h),l.value="Ha ocurrido un error al actualizar la obra.",setTimeout(()=>{l.value=""},2e3)}},c=W(()=>o.value.length),f=()=>{c.value>=250&&(o.value=o.value.substring(0,250))};return(h,m)=>{const M=$("v-select"),k=$("v-alert");return i(),v("div",gt,[yt,e("form",{onSubmit:P(_,["prevent"]),class:"form"},[e("div",$t,[It,E(e("input",{type:"number",id:"obraId","onUpdate:modelValue":m[0]||(m[0]=b=>n.value=b),required:""},null,512),[[C,n.value]])]),e("div",wt,[kt,d(M,{modelValue:s.value,"onUpdate:modelValue":m[1]||(m[1]=b=>s.value=b),items:p,density:"compact",label:"generos",required:""},null,8,["modelValue"])]),e("div",Et,[Ct,E(e("input",{type:"text",id:"titulo","onUpdate:modelValue":m[2]||(m[2]=b=>a.value=b),required:""},null,512),[[C,a.value]])]),e("div",xt,[Ut,E(e("input",{type:"text",id:"descripcion","onUpdate:modelValue":m[3]||(m[3]=b=>o.value=b),maxlength:250,onInput:f,required:""},null,544),[[C,o.value]]),e("label",{class:ee({"text-red":c.value<100}),for:"descripcion"}," Descripción (Mínimo 100 caracteres): "+g(c.value)+"/250 ",3)]),e("div",St,[At,E(e("input",{type:"number",id:"precioEntrada","onUpdate:modelValue":m[4]||(m[4]=b=>r.value=b),required:""},null,512),[[C,r.value]])]),e("div",Tt,[e("input",{type:"submit",value:"Actualizar",class:"btn-submit",disabled:c.value<100},null,8,Vt)]),l.value?(i(),T(k,{key:0,value:!0,type:l.value.includes("Actualizado")?"success":"error"},{default:w(()=>[y(g(l.value),1)]),_:1},8,["type"])):V("",!0)],32)])}}}),Ot=U(Dt,[["__scopeId","data-v-2125da21"]]),H=t=>(D("data-v-032664e4"),t=t(),O(),t),Bt=H(()=>e("h2",null,"Actualizar Imagen",-1)),Pt=H(()=>e("label",{for:"obraId"},"ID de Obra",-1)),Ft=H(()=>e("label",{for:"imagen"},"Nueva Imagen",-1)),Lt={key:0},qt=["src"],zt=H(()=>e("input",{type:"submit",value:"Enviar"},null,-1)),Nt=x({__name:"PutImgObra",setup(t){const n=u(0),s=u(null),a=u(""),o=u(null),r=async()=>{try{if(!s.value)throw new Error("Por favor seleccione una imagen.");const _=await p(s.value),c={obraId:n.value,imagen:_};if(!(await fetch(`http://localhost:8001/Obra/img/${n.value}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)})).ok)throw new Error("Fallo al actualizar la imagen de la obra.");s.value=null,n.value=0,a.value="Actualizado correctamente.",setTimeout(()=>{a.value=""},2e3)}catch(_){console.error(_),a.value="Ha ocurrido un error al actualizar la imagen de la obra.",setTimeout(()=>{a.value=""},2e3)}},l=_=>{var h;const f=(h=_.target.files)==null?void 0:h[0];if(f){s.value=f;const m=new FileReader;m.onload=()=>{o.value=m.result},m.readAsDataURL(f)}},p=_=>new Promise((c,f)=>{const h=new FileReader;h.readAsDataURL(_),h.onload=()=>{const m=h.result.split(",")[1];c(m)},h.onerror=m=>f(m)});return(_,c)=>{const f=$("v-alert");return i(),v("div",null,[Bt,e("form",{onSubmit:P(r,["prevent"])},[Pt,E(e("input",{type:"number",id:"obraId","onUpdate:modelValue":c[0]||(c[0]=h=>n.value=h),required:""},null,512),[[C,n.value]]),Ft,e("input",{type:"file",id:"imagen",accept:"image/*",onChange:l,required:""},null,32),o.value?(i(),v("div",Lt,[e("img",{src:o.value,alt:"Imagen seleccionada",style:{"max-width":"100%",height:"200px","margin-bottom":"10px"}},null,8,qt)])):V("",!0),zt,a.value?(i(),T(f,{key:1,value:!0,type:a.value.includes("Actualizado")?"success":"error"},{default:w(()=>[y(g(a.value),1)]),_:1},8,["type"])):V("",!0)],32)])}}}),Mt=U(Nt,[["__scopeId","data-v-032664e4"]]),R=t=>(D("data-v-dbef7a2d"),t=t(),O(),t),jt=R(()=>e("h2",null,"Listado de Obras",-1)),Rt={class:"obra-container"},Ht=R(()=>e("strong",null,"ID:",-1)),Jt=R(()=>e("strong",null,"Género:",-1)),Gt=R(()=>e("strong",null,"Descripción:",-1)),Wt=R(()=>e("strong",null,"Precio de entrada:",-1)),Kt=x({__name:"ListObra",setup(t){const n=u([]);return J(async()=>{try{const s=await fetch("http://localhost:8001/Obra");if(!s.ok)throw new Error("Fallo al obtener la lista de obras.");const a=await s.json();a.forEach(o=>{o.imagen=`data:image/jpeg;base64,${o.imagen}`}),n.value=a}catch(s){console.error(s)}}),(s,a)=>{const o=$("v-img"),r=$("v-card-title"),l=$("v-card-text"),p=$("v-card"),_=$("v-col"),c=$("v-row"),f=$("v-container");return i(),T(f,null,{default:w(()=>[jt,d(c,null,{default:w(()=>[d(_,{cols:"12"},{default:w(()=>[e("div",Rt,[(i(!0),v(F,null,G(n.value,h=>(i(),T(p,{key:h.obraId,class:"obra-card"},{default:w(()=>[d(o,{src:h.imagen,height:"200"},null,8,["src"]),d(r,{class:"obra-title"},{default:w(()=>[y(g(h.título),1)]),_:2},1024),d(l,null,{default:w(()=>[e("p",null,[Ht,y(" "+g(h.obraId),1)]),e("p",null,[Jt,y(" "+g(h.genero),1)]),e("p",null,[Gt,y(" "+g(h.descripción),1)]),e("p",null,[Wt,y(" $"+g(h.precioEntrada),1)])]),_:2},1024)]),_:2},1024))),128))])]),_:1})]),_:1})]),_:1})}}}),Qt=U(Kt,[["__scopeId","data-v-dbef7a2d"]]),Zt={class:"wrapper"},Xt={key:0},Yt={key:1},eo={key:2},to={key:3},oo={key:4},ao=x({__name:"AdminObra",setup(t){const n=u("add"),s=a=>{n.value=a};return(a,o)=>(i(),v("div",null,[e("nav",null,[e("ul",null,[e("li",{onClick:o[0]||(o[0]=r=>s("add"))},"Agregar"),e("li",{onClick:o[1]||(o[1]=r=>s("info"))},"Actualizar Info"),e("li",{onClick:o[2]||(o[2]=r=>s("image"))},"Actualizar Imagen"),e("li",{onClick:o[3]||(o[3]=r=>s("delete"))},"Eliminar"),e("li",{onClick:o[4]||(o[4]=r=>s("list"))},"Ver Obras")])]),e("div",Zt,[n.value==="add"?(i(),v("div",Xt,[d(vt)])):n.value==="delete"?(i(),v("div",Yt,[d(bt)])):n.value==="info"?(i(),v("div",eo,[d(Ot)])):n.value==="image"?(i(),v("div",to,[d(Mt)])):(i(),v("div",oo,[d(Qt)]))])]))}}),so=U(ao,[["__scopeId","data-v-a5e02839"]]),N=t=>(D("data-v-1e9bf064"),t=t(),O(),t),no=N(()=>e("h2",null,"Crear Butaca",-1)),lo=N(()=>e("label",{for:"nombre"},"Nombre",-1)),ro=N(()=>e("label",{for:"estado"},"Estado",-1)),io=N(()=>e("option",{value:!0},"Ocupado",-1)),uo=N(()=>e("option",{value:!1},"Disponible",-1)),co=[io,uo],vo=N(()=>e("input",{type:"submit",value:"Enviar"},null,-1)),_o=x({__name:"AddButaca",setup(t){const n=u(""),s=u(!1),a=u(""),o=async()=>{try{const r={nombreAsiento:n.value,estado:s.value};if(!(await fetch("http://localhost:8001/Asiento",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok)throw new Error("Fallo al crear Butaca.");n.value="",s.value=!1,a.value="Creado Correctamente.",setTimeout(()=>{a.value=""},2e3)}catch(r){console.error(r),a.value="Ha ocurrido un Error al Crear .",setTimeout(()=>{a.value=""},2e3)}};return(r,l)=>{const p=$("v-alert");return i(),v("div",null,[no,e("form",{onSubmit:P(o,["prevent"])},[lo,E(e("input",{type:"text",id:"nombre","onUpdate:modelValue":l[0]||(l[0]=_=>n.value=_),required:""},null,512),[[C,n.value]]),ro,E(e("select",{id:"estado","onUpdate:modelValue":l[1]||(l[1]=_=>s.value=_),required:""},co,512),[[te,s.value]]),vo,a.value?(i(),T(p,{key:0,value:!0,type:a.value.includes("Creado")?"success":"error"},{default:w(()=>[y(g(a.value),1)]),_:1},8,["type"])):V("",!0)],32)])}}}),mo=U(_o,[["__scopeId","data-v-1e9bf064"]]),Z=t=>(D("data-v-1917566f"),t=t(),O(),t),po=Z(()=>e("h2",null,"Borrar Butaca",-1)),ho=Z(()=>e("label",{for:"butacaId"},"ID Butaca",-1)),fo=Z(()=>e("input",{type:"submit",value:"Enviar"},null,-1)),bo=x({__name:"DeleteButaca",setup(t){const n=u(0),s=u(""),a=async()=>{try{if(!(await fetch(`http://localhost:8001/Asiento/${n.value}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok)throw s.value="Error del Servidor",new Error("Error del Servidor");n.value=0,s.value="Eliminado Correctamente.",setTimeout(()=>{s.value=""},3e3)}catch(o){s.value="Fallo al Eliminar Butaca.",console.error(o)}};return(o,r)=>{const l=$("v-alert");return i(),v("div",null,[po,e("form",{onSubmit:P(a,["prevent"])},[ho,E(e("input",{type:"number",id:"butacaId","onUpdate:modelValue":r[0]||(r[0]=p=>n.value=p),required:""},null,512),[[C,n.value]]),fo,s.value?(i(),T(l,{key:0,value:!0,type:s.value.includes("Eliminado")?"success":"error"},{default:w(()=>[y(g(s.value),1)]),_:1},8,["type"])):V("",!0)],32)])}}}),go=U(bo,[["__scopeId","data-v-1917566f"]]),L=t=>(D("data-v-17cd7164"),t=t(),O(),t),yo={class:"contenedor"},$o=L(()=>e("h2",null,"Lista de Butacas",-1)),Io=L(()=>e("label",{for:"estado"},"Filtrar por estado:",-1)),wo=L(()=>e("option",{value:!0},"Ocupado",-1)),ko=L(()=>e("option",{value:!1},"Disponible",-1)),Eo=[wo,ko],Co={class:"scroll-container"},xo={class:"lista-butacas"},Uo={class:"butaca-info"},So=L(()=>e("strong",null,"ID:",-1)),Ao=L(()=>e("strong",null,"Nombre:",-1)),To=L(()=>e("strong",null,"Estado:",-1)),Vo={class:"response"},Do=x({__name:"ListButaca",setup(t){const n=u([]),s=u(""),a=u(!1);J(async()=>{await o()});const o=async()=>{try{if(a.value===null){s.value="Por favor, seleccione un estado.";return}const l=await fetch(`http://localhost:8001/Asiento/estado/${a.value}`);if(!l.ok)throw new Error("Fallo al obtener la lista de butacas.");const p=await l.json();n.value=p}catch(l){console.error(l),s.value="Ha ocurrido un error al obtener la lista de butacas."}},r=()=>{o()};return(l,p)=>(i(),v("div",yo,[$o,e("div",null,[Io,E(e("select",{id:"estado","onUpdate:modelValue":p[0]||(p[0]=_=>a.value=_),onChange:r,class:"custom-select"},Eo,544),[[te,a.value]])]),e("div",Co,[e("ul",xo,[(i(!0),v(F,null,G(n.value,_=>(i(),v("li",{key:_.asientoId,class:"butaca-item"},[e("div",Uo,[e("p",null,[So,y(" "+g(_.asientoId),1)]),e("p",null,[Ao,y(" "+g(_.nombreAsiento),1)]),e("p",null,[To,y(" "+g(_.estado?"Ocupado":"Disponible"),1)])])]))),128))])]),e("p",Vo,g(s.value),1)]))}}),Oo=U(Do,[["__scopeId","data-v-17cd7164"]]),Bo={class:"wrapper"},Po={key:0},Fo={key:1},Lo={key:2},qo=x({__name:"AdminButaca",setup(t){const n=u("add"),s=a=>{n.value=a};return(a,o)=>(i(),v(F,null,[e("nav",null,[e("ul",null,[e("li",{onClick:o[0]||(o[0]=r=>s("add"))},"Agregar Butaca"),e("li",{onClick:o[1]||(o[1]=r=>s("delete"))},"Eliminar Butaca"),e("li",{onClick:o[2]||(o[2]=r=>s("list"))},"Listar Butacas")])]),e("div",Bo,[n.value==="add"?(i(),v("div",Po,[d(mo)])):n.value==="list"?(i(),v("div",Fo,[d(Oo)])):(i(),v("div",Lo,[d(go)]))])],64))}}),zo=U(qo,[["__scopeId","data-v-d9f21c08"]]),No=oe({actionText:String,bgColor:String,color:String,icon:ae,image:String,justify:{type:String,default:"center"},headline:String,title:String,text:String,textWidth:{type:[Number,String],default:500},href:String,to:String,...se(),...ne(),...le({size:void 0}),...re()},"VEmptyState"),Mo=ie()({name:"VEmptyState",props:No(),emits:{"click:action":t=>!0},setup(t,n){let{emit:s,slots:a}=n;const{themeClasses:o}=ue(t),{backgroundColorClasses:r,backgroundColorStyles:l}=ce(de(t,"bgColor")),{dimensionStyles:p}=ve(t);function _(c){s("click:action",c)}return _e(()=>{var b,S,A;const c=!!(a.actions||t.actionText),f=!!(a.headline||t.headline),h=!!(a.title||t.title),m=!!(a.text||t.text),M=!!(a.media||t.image||t.icon),k=t.size||(t.image?200:96);return d("div",{class:["v-empty-state",{[`v-empty-state--${t.justify}`]:!0},o.value,r.value,t.class],style:[l.value,p.value,t.style]},[M&&d("div",{key:"media",class:"v-empty-state__media"},[a.media?d(Y,{key:"media-defaults",defaults:{VImg:{src:t.image,height:k},VIcon:{size:k,icon:t.icon}}},{default:()=>[a.media()]}):d(F,null,[t.image?d(me,{key:"image",src:t.image,height:k},null):t.icon?d(pe,{key:"icon",size:k,icon:t.icon},null):void 0])]),f&&d("div",{key:"headline",class:"v-empty-state__headline"},[((b=a.headline)==null?void 0:b.call(a))??t.headline]),h&&d("div",{key:"title",class:"v-empty-state__title"},[((S=a.title)==null?void 0:S.call(a))??t.title]),m&&d("div",{key:"text",class:"v-empty-state__text",style:{maxWidth:he(t.textWidth)}},[((A=a.text)==null?void 0:A.call(a))??t.text]),a.default&&d("div",{key:"content",class:"v-empty-state__content"},[a.default()]),c&&d("div",{key:"actions",class:"v-empty-state__actions"},[d(Y,{defaults:{VBtn:{class:"v-empty-state__action-btn",color:t.color,text:t.actionText}}},{default:()=>{var I;return[((I=a.actions)==null?void 0:I.call(a,{props:{onClick:_}}))??d(fe,{onClick:_},null)]}})])])}),{}}}),X=t=>(D("data-v-93c22c11"),t=t(),O(),t),jo={key:0},Ro={class:"wrapper"},Ho={key:0,class:"form-box"},Jo=X(()=>e("h2",null,"Admin User",-1)),Go={key:1,class:"form-box"},Wo=X(()=>e("h2",null,"Admin Obra",-1)),Ko={key:2,class:"form-box"},Qo=X(()=>e("h2",null,"Admin Butaca",-1)),Zo={key:1,class:"contenedor"},Xo=x({__name:"AdminView",setup(t){const n=be(),s=W(()=>n.userInfo!==null&&n.userInfo.rol),a=u("user"),o=r=>{a.value=r};return(r,l)=>(i(),v("main",null,[s.value?(i(),v("div",jo,[e("nav",null,[e("ul",null,[e("li",{onClick:l[0]||(l[0]=p=>o("user"))},"Usuario"),e("li",{onClick:l[1]||(l[1]=p=>o("obra"))},"Obra"),e("li",{onClick:l[2]||(l[2]=p=>o("butaca"))},"Butaca")])]),e("article",null,[e("section",null,[e("div",Ro,[a.value==="user"?(i(),v("div",Ho,[Jo,d(tt)])):a.value==="obra"?(i(),v("div",Go,[Wo,d(so)])):a.value==="butaca"?(i(),v("div",Ko,[Qo,d(zo)])):V("",!0)])])])])):(i(),v("div",Zo,[d(ge(Mo),{headline:"Whoops, 404",title:"Page not found",text:"Parece que no tienes Accseso a esta pestaña",image:"https://vuetifyjs.b-cdn.net/docs/images/components/v-empty-state/astro-cat.svg"})]))]))}}),ea=U(Xo,[["__scopeId","data-v-93c22c11"]]);export{ea as default};
